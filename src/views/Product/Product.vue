<template>
    <div class="container">
        <div class="titulo_lista">
            <p style="color:white ; font-size:18px;"> Lista Supermercado </p>
              <b-button variant="success" @click="cargarfile">Cargar</b-button>
              <b-button variant="success" @click="borrarElements">Borrar</b-button>
            <input type="text" v-model="search" placeholder="Ingresar Producto" @input="searchSubGroup('searching')">
            <!--  basket , bucket , person ,shop ,  -->
            <div class="containersFiltros">
              <div class="containerFiltros">
                <button  @click="searchSubGroup('Love')"
                      v-bind:class="{botonFiltroNonSel :(!isButtonLove),
                      botonFiltroSel:isButtonLove}"
                      >
                      <svg v-if="isButtonLove" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                        <path d="m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"/>
                      </svg>
                      <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                        <path d="m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"/>
                      </svg>
                </button>
                <button  @click="searchSubGroup('Mercado')"
                      v-bind:class="{botonFiltroNonSel :(!isButtonMercado),
                      botonFiltroSel:isButtonMercado}"
                      >
                      <svg v-if="isButtonMercado" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                        <path d="M488,320H448V272a135.646,135.646,0,0,0-43.391-99.5c10.8-28.9,40.247-54.13,40.558-54.4A8,8,0,0,0,440,104c-23.13,0-43.238,4.541-60.1,13.524a142.337,142.337,0,0,1,10.562-15.341,184.9,184.9,0,0,1,22.7-24.076A8,8,0,0,0,408,64c-21.625,0-40.7,4.027-56.942,11.959-2.243-16.727-9.829-46.289-35.48-59.114a8,8,0,0,0-7.156,0C282.8,29.656,275.2,59.167,272.949,75.905,256.76,67.993,237.716,64,216,64a8,8,0,0,0-5.171,14.1,184.837,184.837,0,0,1,22.706,24.079,142.487,142.487,0,0,1,10.541,15.3C227.247,108.527,207.157,104,184,104a8,8,0,0,0-5.171,14.1c.315.267,29.76,25.5,40.562,54.4A135.646,135.646,0,0,0,176,272v.918c-8.827,1.677-20.508,5.5-26.746,10.183a23.539,23.539,0,0,1-2.789,1.79c2.107-19.267,5.837-38.922,12.191-48.453h0a8,8,0,1,0-13.312-8.874h0c-7.253,10.88-12.349,30.82-15.161,59.241a22.682,22.682,0,0,1-7.437-3.7C114.308,276.767,95.9,272,88.088,272c-20.916,0-39.788,8.528-53.139,24.013-15.217,17.65-21.717,42.736-17.834,68.825l5,33.577a177.583,177.583,0,0,0,20.514,60.658c13.061,23.4,35.725,36.958,59.7,36.957a64.634,64.634,0,0,0,17.45-2.416q.273-.076.538-.172l13.382-4.787a6.774,6.774,0,0,1,4.61,0l13.381,4.787c.177.064.357.121.538.172a64.646,64.646,0,0,0,17.451,2.416c17.534,0,34.364-7.261,47.253-20.313A199.9,199.9,0,0,0,304,496c49.8,0,97.916-18.855,135.5-53.091C475.405,410.194,496,368.312,496,328A8,8,0,0,0,488,320ZM278.225,279.9l33.88-32.9,33.948,32.957L312.188,312.8Zm18.4,40.1h-45.74a79.537,79.537,0,0,0-4.13-9.541l19.983-19.406Zm60.911-28.894L387.3,320h-59.56Zm-33.951-55.258,33.851-32.874,33.976,33-33.87,32.843Zm5.6-82.612a119.134,119.134,0,0,1,41.788,14.289l-13.537,13.146Zm16.768,38.587L312.1,224.7l-33.835-32.847,33.859-32.881ZM266.783,180.7l-13.64-13.242A119.1,119.1,0,0,1,295.108,153.2Zm0,22.3L300.62,235.85l-33.893,32.914-33.876-32.81Zm-11.541,76.915L237.775,296.88c-.241-.289-.478-.582-.724-.867a68.407,68.407,0,0,0-42.16-23.195l26.476-25.712Zm-5.356,118.5,5-33.577A96.693,96.693,0,0,0,254.92,336H446.578c-4.613,26.417-20.233,52.881-43.795,73.749C374.932,434.416,339.85,448,304,448a146.623,146.623,0,0,1-62.955-14.49A180.97,180.97,0,0,0,249.887,398.415ZM418.457,320,432,306.884V320ZM432,284.611l-29.126,28.207-33.843-32.855L402.9,247.121,432,275.383Zm-1.784-33.265L414.39,235.978l8.963-8.692A118.908,118.908,0,0,1,430.216,251.346Zm-14.237-39.2-13.073,12.677-33.984-33,15.722-15.268A120.912,120.912,0,0,1,415.979,212.149Zm2.981-90.616c-9.188,10.128-20.267,24.372-27.277,40.326a136.15,136.15,0,0,0-22.812-13.381c.1-1.246.252-2.492.448-3.738C382.207,132.4,398.843,124.627,418.96,121.533Zm-32.009-40c-12.99,14.321-29.755,36.867-33.466,60.941a134.954,134.954,0,0,0-28.978-5.9c-.938-2.913-2.139-6.209-3.664-9.75C330.666,108.008,349.8,87.269,386.951,81.538ZM312,33.207c19.825,12.915,23.276,42.533,23.875,51.9a97.241,97.241,0,0,0-23.887,25.235,98.949,98.949,0,0,0-12.629-15.592,97.243,97.243,0,0,0-11.232-9.665C288.729,75.695,292.19,46.112,312,33.207ZM237.06,81.55c44.324,6.88,62.782,35.164,70.312,54.537a135.295,135.295,0,0,0-36.857,6.392q-.375-2.436-.924-4.847l.282-.261c-.146-.158-.3-.31-.444-.466C264.231,114.961,249.04,94.76,237.06,81.55Zm-32.024,39.979c20.14,3.091,36.762,10.874,49.648,23.227.194,1.24.347,2.482.445,3.722a136.15,136.15,0,0,0-22.812,13.381C225.306,145.9,214.225,131.657,205.036,121.529Zm34.424,54.947L255.3,191.853l-33.946,32.965-13.24-12.824A120.9,120.9,0,0,1,239.46,176.476Zm-38.74,50.632,9.149,8.862-16.133,15.666A118.986,118.986,0,0,1,200.72,227.108ZM215.4,451.275C205.259,469.45,187.833,480,169.534,480a48.131,48.131,0,0,1-12.734-1.724L143.7,473.59a22.893,22.893,0,0,0-15.39,0L115.2,478.279c-22.6,6.191-46.118-4.634-58.6-27a161.624,161.624,0,0,1-18.659-55.216l-5-33.576c-3.2-21.482,1.952-41.9,14.127-56.022A53.249,53.249,0,0,1,88.088,288c5.082,0,19.94,4.059,25.053,7.9a38.271,38.271,0,0,0,15.75,7.013c-.394,6.368-.614,11.965-.737,16.251-6.914-1.552-10.4-4.729-10.589-4.907l.088.087a8,8,0,1,0-11.306,11.321C107.42,326.733,117.244,336,136,336c18.772,0,28.6-9.285,29.657-10.343a8,8,0,1,0-11.314-11.314c-.042.042-3.459,3.148-10.2,4.739.139-4.833.392-10.492.793-16.568a38.372,38.372,0,0,0,13.922-6.617c5.113-3.838,19.971-7.9,25.053-7.9a53.249,53.249,0,0,1,41.021,18.461c12.175,14.121,17.324,34.54,14.127,56.022l-5,33.576A161.639,161.639,0,0,1,215.4,451.275ZM428.72,431.081C394.093,462.627,349.8,480,304,480a183.62,183.62,0,0,1-76.872-17.161c.775-1.227,1.528-2.479,2.246-3.766q2.953-5.29,5.529-10.772A162.625,162.625,0,0,0,304,464c39.762,0,78.611-15.013,109.392-42.274,27.05-23.957,44.751-54.839,49.387-85.726h16.914C477.149,369.353,458.89,403.6,428.72,431.081Z"/><circle cx="408" cy="360" r="8"/><circle cx="368" cy="400" r="8"/><circle cx="328" cy="376" r="8"/><circle cx="280" cy="376" r="8"/><circle cx="304" cy="424" r="8"/>
                      </svg>
                      <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                        <path d="M488,320H448V272a135.646,135.646,0,0,0-43.391-99.5c10.8-28.9,40.247-54.13,40.558-54.4A8,8,0,0,0,440,104c-23.13,0-43.238,4.541-60.1,13.524a142.337,142.337,0,0,1,10.562-15.341,184.9,184.9,0,0,1,22.7-24.076A8,8,0,0,0,408,64c-21.625,0-40.7,4.027-56.942,11.959-2.243-16.727-9.829-46.289-35.48-59.114a8,8,0,0,0-7.156,0C282.8,29.656,275.2,59.167,272.949,75.905,256.76,67.993,237.716,64,216,64a8,8,0,0,0-5.171,14.1,184.837,184.837,0,0,1,22.706,24.079,142.487,142.487,0,0,1,10.541,15.3C227.247,108.527,207.157,104,184,104a8,8,0,0,0-5.171,14.1c.315.267,29.76,25.5,40.562,54.4A135.646,135.646,0,0,0,176,272v.918c-8.827,1.677-20.508,5.5-26.746,10.183a23.539,23.539,0,0,1-2.789,1.79c2.107-19.267,5.837-38.922,12.191-48.453h0a8,8,0,1,0-13.312-8.874h0c-7.253,10.88-12.349,30.82-15.161,59.241a22.682,22.682,0,0,1-7.437-3.7C114.308,276.767,95.9,272,88.088,272c-20.916,0-39.788,8.528-53.139,24.013-15.217,17.65-21.717,42.736-17.834,68.825l5,33.577a177.583,177.583,0,0,0,20.514,60.658c13.061,23.4,35.725,36.958,59.7,36.957a64.634,64.634,0,0,0,17.45-2.416q.273-.076.538-.172l13.382-4.787a6.774,6.774,0,0,1,4.61,0l13.381,4.787c.177.064.357.121.538.172a64.646,64.646,0,0,0,17.451,2.416c17.534,0,34.364-7.261,47.253-20.313A199.9,199.9,0,0,0,304,496c49.8,0,97.916-18.855,135.5-53.091C475.405,410.194,496,368.312,496,328A8,8,0,0,0,488,320ZM278.225,279.9l33.88-32.9,33.948,32.957L312.188,312.8Zm18.4,40.1h-45.74a79.537,79.537,0,0,0-4.13-9.541l19.983-19.406Zm60.911-28.894L387.3,320h-59.56Zm-33.951-55.258,33.851-32.874,33.976,33-33.87,32.843Zm5.6-82.612a119.134,119.134,0,0,1,41.788,14.289l-13.537,13.146Zm16.768,38.587L312.1,224.7l-33.835-32.847,33.859-32.881ZM266.783,180.7l-13.64-13.242A119.1,119.1,0,0,1,295.108,153.2Zm0,22.3L300.62,235.85l-33.893,32.914-33.876-32.81Zm-11.541,76.915L237.775,296.88c-.241-.289-.478-.582-.724-.867a68.407,68.407,0,0,0-42.16-23.195l26.476-25.712Zm-5.356,118.5,5-33.577A96.693,96.693,0,0,0,254.92,336H446.578c-4.613,26.417-20.233,52.881-43.795,73.749C374.932,434.416,339.85,448,304,448a146.623,146.623,0,0,1-62.955-14.49A180.97,180.97,0,0,0,249.887,398.415ZM418.457,320,432,306.884V320ZM432,284.611l-29.126,28.207-33.843-32.855L402.9,247.121,432,275.383Zm-1.784-33.265L414.39,235.978l8.963-8.692A118.908,118.908,0,0,1,430.216,251.346Zm-14.237-39.2-13.073,12.677-33.984-33,15.722-15.268A120.912,120.912,0,0,1,415.979,212.149Zm2.981-90.616c-9.188,10.128-20.267,24.372-27.277,40.326a136.15,136.15,0,0,0-22.812-13.381c.1-1.246.252-2.492.448-3.738C382.207,132.4,398.843,124.627,418.96,121.533Zm-32.009-40c-12.99,14.321-29.755,36.867-33.466,60.941a134.954,134.954,0,0,0-28.978-5.9c-.938-2.913-2.139-6.209-3.664-9.75C330.666,108.008,349.8,87.269,386.951,81.538ZM312,33.207c19.825,12.915,23.276,42.533,23.875,51.9a97.241,97.241,0,0,0-23.887,25.235,98.949,98.949,0,0,0-12.629-15.592,97.243,97.243,0,0,0-11.232-9.665C288.729,75.695,292.19,46.112,312,33.207ZM237.06,81.55c44.324,6.88,62.782,35.164,70.312,54.537a135.295,135.295,0,0,0-36.857,6.392q-.375-2.436-.924-4.847l.282-.261c-.146-.158-.3-.31-.444-.466C264.231,114.961,249.04,94.76,237.06,81.55Zm-32.024,39.979c20.14,3.091,36.762,10.874,49.648,23.227.194,1.24.347,2.482.445,3.722a136.15,136.15,0,0,0-22.812,13.381C225.306,145.9,214.225,131.657,205.036,121.529Zm34.424,54.947L255.3,191.853l-33.946,32.965-13.24-12.824A120.9,120.9,0,0,1,239.46,176.476Zm-38.74,50.632,9.149,8.862-16.133,15.666A118.986,118.986,0,0,1,200.72,227.108ZM215.4,451.275C205.259,469.45,187.833,480,169.534,480a48.131,48.131,0,0,1-12.734-1.724L143.7,473.59a22.893,22.893,0,0,0-15.39,0L115.2,478.279c-22.6,6.191-46.118-4.634-58.6-27a161.624,161.624,0,0,1-18.659-55.216l-5-33.576c-3.2-21.482,1.952-41.9,14.127-56.022A53.249,53.249,0,0,1,88.088,288c5.082,0,19.94,4.059,25.053,7.9a38.271,38.271,0,0,0,15.75,7.013c-.394,6.368-.614,11.965-.737,16.251-6.914-1.552-10.4-4.729-10.589-4.907l.088.087a8,8,0,1,0-11.306,11.321C107.42,326.733,117.244,336,136,336c18.772,0,28.6-9.285,29.657-10.343a8,8,0,1,0-11.314-11.314c-.042.042-3.459,3.148-10.2,4.739.139-4.833.392-10.492.793-16.568a38.372,38.372,0,0,0,13.922-6.617c5.113-3.838,19.971-7.9,25.053-7.9a53.249,53.249,0,0,1,41.021,18.461c12.175,14.121,17.324,34.54,14.127,56.022l-5,33.576A161.639,161.639,0,0,1,215.4,451.275ZM428.72,431.081C394.093,462.627,349.8,480,304,480a183.62,183.62,0,0,1-76.872-17.161c.775-1.227,1.528-2.479,2.246-3.766q2.953-5.29,5.529-10.772A162.625,162.625,0,0,0,304,464c39.762,0,78.611-15.013,109.392-42.274,27.05-23.957,44.751-54.839,49.387-85.726h16.914C477.149,369.353,458.89,403.6,428.72,431.081Z"/><circle cx="408" cy="360" r="8"/><circle cx="368" cy="400" r="8"/><circle cx="328" cy="376" r="8"/><circle cx="280" cy="376" r="8"/><circle cx="304" cy="424" r="8"/>
                      </svg>
                </button>
                <button  @click="searchSubGroup('Abarrotes')"
                      v-bind:class="{botonFiltroNonSel :(!isButtonAbarrotes),
                      botonFiltroSel:isButtonAbarrotes}"
                      >
                      <svg v-if="isButtonAbarrotes" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                        <path d="M375.99,152a8.084,8.084,0,0,0,1-.063c13.492-1.686,39.008-12.3,39.008-40.382,0-8.62,3.742-14.9,11.441-19.207a39.492,39.492,0,0,1,13.364-4.39,8,8,0,0,0-1.579-15.921C425.658,73.357,400,83.313,400,111.556c0,8.7-3.791,15.148-11.59,19.723a40.666,40.666,0,0,1-13.4,4.783A8,8,0,0,0,375.99,152Z"/><path d="M16.051,208.507a7.9,7.9,0,0,0,.188,1.289l23.711,102.9L29.893,495.561A8,8,0,0,0,37.881,504H474.119a8,8,0,0,0,7.988-8.439L472.05,312.692l23.711-102.9a7.9,7.9,0,0,0,.188-1.289,23.847,23.847,0,0,0-12.919-22.859,25.73,25.73,0,0,0-3.03-1.339V80A71.986,71.986,0,0,0,342.144,50.948a72.011,72.011,0,0,0-72.076-2.466,71.986,71.986,0,0,0-122.422,24.87A49.286,49.286,0,0,0,136.048,72a48.415,48.415,0,0,0-15.718,2.53l15.388-56.425A8,8,0,0,0,128,8H88a8,8,0,0,0-7.718,5.9l-7.555,27.7-1.009-3.7A8,8,0,0,0,64,32H24a8,8,0,0,0-7.718,10.1l22.853,83.8c-5.532,16.49-9.125,38.005-5.878,57.987a25.4,25.4,0,0,0-4.287,1.759A23.847,23.847,0,0,0,16.051,208.507ZM352,80a56,56,0,0,1,112,0V183.992a24.867,24.867,0,0,0-7.6,4.1,8.553,8.553,0,0,1-11.279-.607L434.783,177.3a24.631,24.631,0,0,0-34.427,0l-9.116,8.983a8.564,8.564,0,0,1-11.968,0l-9.117-8.983A24.455,24.455,0,0,0,352,170.331ZM216,40a56.146,56.146,0,0,1,45.657,23.6,8,8,0,0,0,11,1.989,56.012,56.012,0,0,1,64.554,1.329A72,72,0,0,0,336,80v55.98a79.983,79.983,0,0,0-99.5,2.837,134.879,134.879,0,0,0-6.277-20.087c-5.795-14.276-14.159-22.592-24.86-24.716-9.727-1.931-18.768,1.872-25.133,5.889a55.643,55.643,0,0,0-17.839-20.095A56.081,56.081,0,0,1,216,40ZM336,157.694v19.365c-.088.084-.184.155-.271.241l-9.117,8.983a8.564,8.564,0,0,1-11.968,0l-9.117-8.983a24.63,24.63,0,0,0-34.426,0l-9.117,8.983a8.564,8.564,0,0,1-11.968,0L240.9,177.3a24.248,24.248,0,0,0-10.128-5.975A63.99,63.99,0,0,1,336,157.694ZM94.11,24h23.416L100.035,88.134A59.194,59.194,0,0,0,91.776,99.9c-1.157-.73-2.406-1.453-3.729-2.136L81.02,72Zm-4.663,94.307a8,8,0,0,0,13.424-3.521c.072-.267,7.548-26.786,33.177-26.786,25.287,0,32.784,25.724,33.081,26.786a8,8,0,0,0,13.424,3.521c2.671-2.714,12.021-10.125,19.691-8.6,5.084,1.009,9.508,6.069,13.15,15.04a122.492,122.492,0,0,1,7.568,28.672,79.627,79.627,0,0,0-10.228,19.436,24.218,24.218,0,0,0-6.261,4.444l-9.117,8.983a8.557,8.557,0,0,1-8.446,2.077c3.812-30.047-4.363-47.143-4.732-47.893a8,8,0,0,0-14.385,7.006c.057.121,4.535,9.914,4.1,27.8a24.634,24.634,0,0,0-32.044,2.031l-9.117,8.983a8.564,8.564,0,0,1-11.968,0l-9.116-8.983a24.319,24.319,0,0,0-12.811-6.61c.491-14.766,4.221-22.892,4.348-23.164a8,8,0,0,0-14.336-7.1c-.263.526-5.934,12.139-6.062,32.791a24.239,24.239,0,0,0-5.566,4.087L66.883,187.482a8.553,8.553,0,0,1-11.279.607,24.973,24.973,0,0,0-5.947-3.482c-4.4-20.5.523-44.027,6.949-59.859,3.634-8.951,8.046-14.008,13.115-15.033C77.332,108.173,86.555,115.41,89.447,118.307ZM34.474,48H57.89L70.311,93.547a26.993,26.993,0,0,0-3.67.467c-6.448,1.28-12.04,4.824-16.74,10.549Zm1.932,151.815a8.448,8.448,0,0,1,9.294.841,24.581,24.581,0,0,0,32.412-1.777L88.446,188.7a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.63,24.63,0,0,0,34.427,0l9.116-8.982a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.629,24.629,0,0,0,34.426,0L217.7,188.7a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.629,24.629,0,0,0,34.426,0l9.117-8.982a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.629,24.629,0,0,0,34.426,0l9.117-8.982a8.562,8.562,0,0,1,11.968,0l9.116,8.982a24.63,24.63,0,0,0,34.427,0l9.117-8.982a8.562,8.562,0,0,1,11.968,0l10.334,10.181a24.581,24.581,0,0,0,32.412,1.777,8.448,8.448,0,0,1,9.294-.841A8.048,8.048,0,0,1,480,206.94L456.2,310.2a8.035,8.035,0,0,0-.192,2.235L465.667,488H46.333l9.655-175.561A8.035,8.035,0,0,0,55.8,310.2L32,206.94A8.048,8.048,0,0,1,36.406,199.815Z"/><path d="M192,312H320a8,8,0,0,0,8-8V256a8,8,0,0,0-8-8H192a8,8,0,0,0-8,8v48A8,8,0,0,0,192,312Zm8-48H312v32H200Z"/>
                      </svg>
                      <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                        <path d="M375.99,152a8.084,8.084,0,0,0,1-.063c13.492-1.686,39.008-12.3,39.008-40.382,0-8.62,3.742-14.9,11.441-19.207a39.492,39.492,0,0,1,13.364-4.39,8,8,0,0,0-1.579-15.921C425.658,73.357,400,83.313,400,111.556c0,8.7-3.791,15.148-11.59,19.723a40.666,40.666,0,0,1-13.4,4.783A8,8,0,0,0,375.99,152Z"/><path d="M16.051,208.507a7.9,7.9,0,0,0,.188,1.289l23.711,102.9L29.893,495.561A8,8,0,0,0,37.881,504H474.119a8,8,0,0,0,7.988-8.439L472.05,312.692l23.711-102.9a7.9,7.9,0,0,0,.188-1.289,23.847,23.847,0,0,0-12.919-22.859,25.73,25.73,0,0,0-3.03-1.339V80A71.986,71.986,0,0,0,342.144,50.948a72.011,72.011,0,0,0-72.076-2.466,71.986,71.986,0,0,0-122.422,24.87A49.286,49.286,0,0,0,136.048,72a48.415,48.415,0,0,0-15.718,2.53l15.388-56.425A8,8,0,0,0,128,8H88a8,8,0,0,0-7.718,5.9l-7.555,27.7-1.009-3.7A8,8,0,0,0,64,32H24a8,8,0,0,0-7.718,10.1l22.853,83.8c-5.532,16.49-9.125,38.005-5.878,57.987a25.4,25.4,0,0,0-4.287,1.759A23.847,23.847,0,0,0,16.051,208.507ZM352,80a56,56,0,0,1,112,0V183.992a24.867,24.867,0,0,0-7.6,4.1,8.553,8.553,0,0,1-11.279-.607L434.783,177.3a24.631,24.631,0,0,0-34.427,0l-9.116,8.983a8.564,8.564,0,0,1-11.968,0l-9.117-8.983A24.455,24.455,0,0,0,352,170.331ZM216,40a56.146,56.146,0,0,1,45.657,23.6,8,8,0,0,0,11,1.989,56.012,56.012,0,0,1,64.554,1.329A72,72,0,0,0,336,80v55.98a79.983,79.983,0,0,0-99.5,2.837,134.879,134.879,0,0,0-6.277-20.087c-5.795-14.276-14.159-22.592-24.86-24.716-9.727-1.931-18.768,1.872-25.133,5.889a55.643,55.643,0,0,0-17.839-20.095A56.081,56.081,0,0,1,216,40ZM336,157.694v19.365c-.088.084-.184.155-.271.241l-9.117,8.983a8.564,8.564,0,0,1-11.968,0l-9.117-8.983a24.63,24.63,0,0,0-34.426,0l-9.117,8.983a8.564,8.564,0,0,1-11.968,0L240.9,177.3a24.248,24.248,0,0,0-10.128-5.975A63.99,63.99,0,0,1,336,157.694ZM94.11,24h23.416L100.035,88.134A59.194,59.194,0,0,0,91.776,99.9c-1.157-.73-2.406-1.453-3.729-2.136L81.02,72Zm-4.663,94.307a8,8,0,0,0,13.424-3.521c.072-.267,7.548-26.786,33.177-26.786,25.287,0,32.784,25.724,33.081,26.786a8,8,0,0,0,13.424,3.521c2.671-2.714,12.021-10.125,19.691-8.6,5.084,1.009,9.508,6.069,13.15,15.04a122.492,122.492,0,0,1,7.568,28.672,79.627,79.627,0,0,0-10.228,19.436,24.218,24.218,0,0,0-6.261,4.444l-9.117,8.983a8.557,8.557,0,0,1-8.446,2.077c3.812-30.047-4.363-47.143-4.732-47.893a8,8,0,0,0-14.385,7.006c.057.121,4.535,9.914,4.1,27.8a24.634,24.634,0,0,0-32.044,2.031l-9.117,8.983a8.564,8.564,0,0,1-11.968,0l-9.116-8.983a24.319,24.319,0,0,0-12.811-6.61c.491-14.766,4.221-22.892,4.348-23.164a8,8,0,0,0-14.336-7.1c-.263.526-5.934,12.139-6.062,32.791a24.239,24.239,0,0,0-5.566,4.087L66.883,187.482a8.553,8.553,0,0,1-11.279.607,24.973,24.973,0,0,0-5.947-3.482c-4.4-20.5.523-44.027,6.949-59.859,3.634-8.951,8.046-14.008,13.115-15.033C77.332,108.173,86.555,115.41,89.447,118.307ZM34.474,48H57.89L70.311,93.547a26.993,26.993,0,0,0-3.67.467c-6.448,1.28-12.04,4.824-16.74,10.549Zm1.932,151.815a8.448,8.448,0,0,1,9.294.841,24.581,24.581,0,0,0,32.412-1.777L88.446,188.7a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.63,24.63,0,0,0,34.427,0l9.116-8.982a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.629,24.629,0,0,0,34.426,0L217.7,188.7a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.629,24.629,0,0,0,34.426,0l9.117-8.982a8.562,8.562,0,0,1,11.968,0l9.117,8.982a24.629,24.629,0,0,0,34.426,0l9.117-8.982a8.562,8.562,0,0,1,11.968,0l9.116,8.982a24.63,24.63,0,0,0,34.427,0l9.117-8.982a8.562,8.562,0,0,1,11.968,0l10.334,10.181a24.581,24.581,0,0,0,32.412,1.777,8.448,8.448,0,0,1,9.294-.841A8.048,8.048,0,0,1,480,206.94L456.2,310.2a8.035,8.035,0,0,0-.192,2.235L465.667,488H46.333l9.655-175.561A8.035,8.035,0,0,0,55.8,310.2L32,206.94A8.048,8.048,0,0,1,36.406,199.815Z"/><path d="M192,312H320a8,8,0,0,0,8-8V256a8,8,0,0,0-8-8H192a8,8,0,0,0-8,8v48A8,8,0,0,0,192,312Zm8-48H312v32H200Z"/>
                      </svg>
                </button>
                <button  @click="searchSubGroup('Super')"
                    v-bind:class="{botonFiltroNonSel :(!isButtonSuper),
                    botonFiltroSel:isButtonSuper}"
                    >
                    <svg v-if="isButtonSuper" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M488,192H336V176h16a8,8,0,0,0,8-8V72a8,8,0,0,0-8-8H160a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h16v16H24a8,8,0,0,0-8,8V440a8,8,0,0,0,8,8H488a8,8,0,0,0,8-8V200A8,8,0,0,0,488,192ZM168,80H344v80H168Zm24,96H320v16H192Zm288,32v16H32V208ZM448,432H296V288H448ZM232,320h16V432H232Zm32,0h16V432H264Zm16-16H232V288h48ZM216,432H64V288H216Zm264,0H464V280a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8V432H32V240H480Z"/><path d="M320,96H192a8,8,0,0,0,0,16H320a8,8,0,0,0,0-16Z"/><path d="M280,128H232a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/><path d="M88,416a7.976,7.976,0,0,0,5.657-2.343l96-96a8,8,0,1,0-11.314-11.314l-96,96A8,8,0,0,0,88,416Z"/><path d="M104,360a7.976,7.976,0,0,0,5.657-2.343l24-24a8,8,0,0,0-11.314-11.314l-24,24A8,8,0,0,0,104,360Z"/><path d="M162.343,362.343l-24,24a8,8,0,0,0,11.314,11.314l24-24a8,8,0,1,0-11.314-11.314Z"/><path d="M322.343,413.657a8,8,0,0,0,11.314,0l96-96a8,8,0,0,0-11.314-11.314l-96,96A8,8,0,0,0,322.343,413.657Z"/><path d="M344,360a7.974,7.974,0,0,0,5.657-2.343l24-24a8,8,0,0,0-11.314-11.314l-24,24A8,8,0,0,0,344,360Z"/><path d="M402.343,362.343l-24,24a8,8,0,0,0,11.314,11.314l24-24a8,8,0,0,0-11.314-11.314Z"/>
                    </svg>
                    <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M488,192H336V176h16a8,8,0,0,0,8-8V72a8,8,0,0,0-8-8H160a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h16v16H24a8,8,0,0,0-8,8V440a8,8,0,0,0,8,8H488a8,8,0,0,0,8-8V200A8,8,0,0,0,488,192ZM168,80H344v80H168Zm24,96H320v16H192Zm288,32v16H32V208ZM448,432H296V288H448ZM232,320h16V432H232Zm32,0h16V432H264Zm16-16H232V288h48ZM216,432H64V288H216Zm264,0H464V280a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8V432H32V240H480Z"/><path d="M320,96H192a8,8,0,0,0,0,16H320a8,8,0,0,0,0-16Z"/><path d="M280,128H232a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/><path d="M88,416a7.976,7.976,0,0,0,5.657-2.343l96-96a8,8,0,1,0-11.314-11.314l-96,96A8,8,0,0,0,88,416Z"/><path d="M104,360a7.976,7.976,0,0,0,5.657-2.343l24-24a8,8,0,0,0-11.314-11.314l-24,24A8,8,0,0,0,104,360Z"/><path d="M162.343,362.343l-24,24a8,8,0,0,0,11.314,11.314l24-24a8,8,0,1,0-11.314-11.314Z"/><path d="M322.343,413.657a8,8,0,0,0,11.314,0l96-96a8,8,0,0,0-11.314-11.314l-96,96A8,8,0,0,0,322.343,413.657Z"/><path d="M344,360a7.974,7.974,0,0,0,5.657-2.343l24-24a8,8,0,0,0-11.314-11.314l-24,24A8,8,0,0,0,344,360Z"/><path d="M402.343,362.343l-24,24a8,8,0,0,0,11.314,11.314l24-24a8,8,0,0,0-11.314-11.314Z"/>
                    </svg>
                </button>
                <button  @click="searchSubGroup('Higiene')"
                    v-bind:class="{botonFiltroNonSel :(!isButtonHigiene),
                    botonFiltroSel:isButtonHigiene}"
                    >
                    <svg v-if="isButtonHigiene" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M456,160h-8v-8a24.039,24.039,0,0,0-16-22.624V104a8,8,0,0,0-8-8V64h32a24,24,0,0,0,0-48H376a24.028,24.028,0,0,0-24,24V56a8,8,0,0,0,8,8h16V96a8,8,0,0,0-8,8v25.376A24.039,24.039,0,0,0,352,152v8h-8a40.045,40.045,0,0,0-40,40v24H256V128h40a8,8,0,0,0,8-8V24a8,8,0,0,0-8-8H232a24.027,24.027,0,0,0-24,24V224H169.2l6.794-159.66A8,8,0,0,0,168,56H24a8,8,0,0,0-7.993,8.34L32,440.168V488a8,8,0,0,0,8,8H456a40.045,40.045,0,0,0,40-40V200A40.045,40.045,0,0,0,456,160Zm-40-48v16H384V112ZM368,40a8.009,8.009,0,0,1,8-8h80a8,8,0,0,1,0,16H368Zm24,24h16V96H392Zm-24,88a8.009,8.009,0,0,1,8-8h48a8.009,8.009,0,0,1,8,8v8H368Zm8,256a24.028,24.028,0,0,1-24,24H224a24.028,24.028,0,0,1-24-24V360a24.028,24.028,0,0,1,24-24H352a24.028,24.028,0,0,1,24,24Zm-72-88H224a40.045,40.045,0,0,0-40,40v48a39.788,39.788,0,0,0,8.022,24H168a8,8,0,0,0-8,8v16a39.788,39.788,0,0,0,8.022,24H144v-8a8,8,0,0,0-16,0v8H96V240h32v8a8,8,0,0,0,16,0v-8H304ZM288,48a8,8,0,0,0,0,16V80a8,8,0,0,0,0,16v16H270.624A23.889,23.889,0,0,0,272,104V40a23.889,23.889,0,0,0-1.376-8H288Zm-64-8a8.009,8.009,0,0,1,8-8h16a8.009,8.009,0,0,1,8,8v64a8.009,8.009,0,0,1-8,8H224Zm0,88h16v96H224ZM88,224a8,8,0,0,0-8,8V432H47.667L33.709,104H158.291l-5.107,120ZM159.652,72l-.681,16H33.029l-.681-16ZM48,448H80v32H48Zm152,32a24.027,24.027,0,0,1-24-24v-8H400v8a24.027,24.027,0,0,1-24,24Zm280-24a24.027,24.027,0,0,1-24,24H407.978A39.788,39.788,0,0,0,416,456V440a8,8,0,0,0-8-8H383.978A39.788,39.788,0,0,0,392,408V360a40.045,40.045,0,0,0-40-40H320V200a24.027,24.027,0,0,1,24-24H456a24.027,24.027,0,0,1,24,24Z"/><path d="M400,200c-31.4,0-56,17.57-56,40s24.6,40,56,40,56-17.57,56-40S431.4,200,400,200Zm0,64c-21.682,0-40-10.99-40-24s18.318-24,40-24,40,10.99,40,24S421.682,264,400,264Z"/><path d="M136,272a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V280A8,8,0,0,0,136,272Z"/><path d="M136,320a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V328A8,8,0,0,0,136,320Z"/><path d="M136,368a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V376A8,8,0,0,0,136,368Z"/><path d="M136,416a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V424A8,8,0,0,0,136,416Z"/>
                    </svg>
                    <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M456,160h-8v-8a24.039,24.039,0,0,0-16-22.624V104a8,8,0,0,0-8-8V64h32a24,24,0,0,0,0-48H376a24.028,24.028,0,0,0-24,24V56a8,8,0,0,0,8,8h16V96a8,8,0,0,0-8,8v25.376A24.039,24.039,0,0,0,352,152v8h-8a40.045,40.045,0,0,0-40,40v24H256V128h40a8,8,0,0,0,8-8V24a8,8,0,0,0-8-8H232a24.027,24.027,0,0,0-24,24V224H169.2l6.794-159.66A8,8,0,0,0,168,56H24a8,8,0,0,0-7.993,8.34L32,440.168V488a8,8,0,0,0,8,8H456a40.045,40.045,0,0,0,40-40V200A40.045,40.045,0,0,0,456,160Zm-40-48v16H384V112ZM368,40a8.009,8.009,0,0,1,8-8h80a8,8,0,0,1,0,16H368Zm24,24h16V96H392Zm-24,88a8.009,8.009,0,0,1,8-8h48a8.009,8.009,0,0,1,8,8v8H368Zm8,256a24.028,24.028,0,0,1-24,24H224a24.028,24.028,0,0,1-24-24V360a24.028,24.028,0,0,1,24-24H352a24.028,24.028,0,0,1,24,24Zm-72-88H224a40.045,40.045,0,0,0-40,40v48a39.788,39.788,0,0,0,8.022,24H168a8,8,0,0,0-8,8v16a39.788,39.788,0,0,0,8.022,24H144v-8a8,8,0,0,0-16,0v8H96V240h32v8a8,8,0,0,0,16,0v-8H304ZM288,48a8,8,0,0,0,0,16V80a8,8,0,0,0,0,16v16H270.624A23.889,23.889,0,0,0,272,104V40a23.889,23.889,0,0,0-1.376-8H288Zm-64-8a8.009,8.009,0,0,1,8-8h16a8.009,8.009,0,0,1,8,8v64a8.009,8.009,0,0,1-8,8H224Zm0,88h16v96H224ZM88,224a8,8,0,0,0-8,8V432H47.667L33.709,104H158.291l-5.107,120ZM159.652,72l-.681,16H33.029l-.681-16ZM48,448H80v32H48Zm152,32a24.027,24.027,0,0,1-24-24v-8H400v8a24.027,24.027,0,0,1-24,24Zm280-24a24.027,24.027,0,0,1-24,24H407.978A39.788,39.788,0,0,0,416,456V440a8,8,0,0,0-8-8H383.978A39.788,39.788,0,0,0,392,408V360a40.045,40.045,0,0,0-40-40H320V200a24.027,24.027,0,0,1,24-24H456a24.027,24.027,0,0,1,24,24Z"/><path d="M400,200c-31.4,0-56,17.57-56,40s24.6,40,56,40,56-17.57,56-40S431.4,200,400,200Zm0,64c-21.682,0-40-10.99-40-24s18.318-24,40-24,40,10.99,40,24S421.682,264,400,264Z"/><path d="M136,272a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V280A8,8,0,0,0,136,272Z"/><path d="M136,320a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V328A8,8,0,0,0,136,320Z"/><path d="M136,368a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V376A8,8,0,0,0,136,368Z"/><path d="M136,416a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V424A8,8,0,0,0,136,416Z"/>
                    </svg>
                </button>
                <button  @click="searchSubGroup('Selec')"
                    v-bind:class="{botonFiltroNonSel :(!isButtonSelec),
                    botonFiltroSel:isButtonSelec}"
                    >
                    <svg v-if="isButtonSelec" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M144,336H448a8,8,0,0,0,7.832-6.368l40-192A8,8,0,0,0,488,128H105.159L87.787,54.167A8,8,0,0,0,80,48H24a8,8,0,0,0,0,16H73.664l60.593,257.522A32.053,32.053,0,0,0,112,352v16a32.036,32.036,0,0,0,32,32h.022a40,40,0,1,0,63.956,0H368.022a40,40,0,1,0,63.956,0H464a8,8,0,0,0,0-16H144a16.019,16.019,0,0,1-16-16V352A16.019,16.019,0,0,1,144,336Zm6.336-16-7.529-32h44.131l4,32h-40.6ZM323.66,240l-1.334,32H269.674l-1.334-32Zm-55.986-16-1.334-32h59.32l-1.334,32ZM253.66,272h-52.6l-4-32h55.264Zm.666,16,1.334,32h-48.6l-4-32Zm16.014,0h51.32l-1.334,32H271.674Zm67.334,0h51.264l-4,32h-48.6Zm.666-16,1.334-32h55.264l-4,32Zm72.722-32h47.1L451.5,272H407.062Zm2-16,4-32h51.1L461.5,224Zm-16.124,0h-56.6l1.334-32h59.264Zm-54.6-48,1.334-32h63.264l-4,32Zm-16.014,0H265.674l-1.334-32h63.32Zm-76.666,0h-60.6l-4-32h63.264Zm.666,16,1.334,32h-56.6l-4-32Zm-71.388,32h-51.19l-7.529-32h54.719Zm2,16,4,32h-45.9l-7.529-32ZM441.5,320H401.062l4-32h43.1Zm30-144H419.062l4-32h55.1ZM168.938,144l4,32H116.454l-7.529-32ZM200,424a24,24,0,1,1-24-24A24.028,24.028,0,0,1,200,424Zm224,0a24,24,0,1,1-24-24A24.028,24.028,0,0,1,424,424Z"/><circle cx="176" cy="424" r="8"/><circle cx="400" cy="424" r="8"/>
                    </svg>
                    <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="M144,336H448a8,8,0,0,0,7.832-6.368l40-192A8,8,0,0,0,488,128H105.159L87.787,54.167A8,8,0,0,0,80,48H24a8,8,0,0,0,0,16H73.664l60.593,257.522A32.053,32.053,0,0,0,112,352v16a32.036,32.036,0,0,0,32,32h.022a40,40,0,1,0,63.956,0H368.022a40,40,0,1,0,63.956,0H464a8,8,0,0,0,0-16H144a16.019,16.019,0,0,1-16-16V352A16.019,16.019,0,0,1,144,336Zm6.336-16-7.529-32h44.131l4,32h-40.6ZM323.66,240l-1.334,32H269.674l-1.334-32Zm-55.986-16-1.334-32h59.32l-1.334,32ZM253.66,272h-52.6l-4-32h55.264Zm.666,16,1.334,32h-48.6l-4-32Zm16.014,0h51.32l-1.334,32H271.674Zm67.334,0h51.264l-4,32h-48.6Zm.666-16,1.334-32h55.264l-4,32Zm72.722-32h47.1L451.5,272H407.062Zm2-16,4-32h51.1L461.5,224Zm-16.124,0h-56.6l1.334-32h59.264Zm-54.6-48,1.334-32h63.264l-4,32Zm-16.014,0H265.674l-1.334-32h63.32Zm-76.666,0h-60.6l-4-32h63.264Zm.666,16,1.334,32h-56.6l-4-32Zm-71.388,32h-51.19l-7.529-32h54.719Zm2,16,4,32h-45.9l-7.529-32ZM441.5,320H401.062l4-32h43.1Zm30-144H419.062l4-32h55.1ZM168.938,144l4,32H116.454l-7.529-32ZM200,424a24,24,0,1,1-24-24A24.028,24.028,0,0,1,200,424Zm224,0a24,24,0,1,1-24-24A24.028,24.028,0,0,1,424,424Z"/><circle cx="176" cy="424" r="8"/><circle cx="400" cy="424" r="8"/>
                    </svg>
                </button>
                <button  @click="searchSubGroup('Vino')"
                    v-bind:class="{botonFiltroNonSel :(!isButtonVino),
                    botonFiltroSel:isButtonVino}"
                    >
                    <svg v-if="isButtonVino" class="iconFiltroSel" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="m290.093 318.174c1.687-.883 3.135-2.037 4.353-3.363 65.258-17.971 113.554-80.563 113.554-154.811 0-50.021-31.48-145.039-32.821-149.06-2.178-6.533-8.292-10.94-15.179-10.94h-208c-6.887 0-13.001 4.407-15.179 10.94-1.341 4.021-32.821 99.039-32.821 149.06 0 74.248 48.296 136.84 113.554 154.81 1.218 1.327 2.666 2.48 4.353 3.363 11.16 5.846 18.093 17.305 18.093 29.907v99.92c0 17.645-14.355 32-32 32h-32c-8.837 0-16 7.164-16 16s7.163 16 16 16h160c8.837 0 16-7.164 16-16s-7.163-16-16-16h-32c-17.645 0-32-14.355-32-32v-99.92c0-12.602 6.933-24.061 18.093-29.906zm-154.093-158.174c0-35.67 19.535-101.925 27.681-128h184.641c8.146 26.068 27.678 92.296 27.678 128 0 70.58-53.832 128-120 128s-120-57.42-120-128z"/>
                    </svg>
                    <svg v-else class="iconFiltro" height="16pt" viewBox="0 0 512 512" width="16pt" xmlns="http://www.w3.org/2000/svg">
                      <path d="m290.093 318.174c1.687-.883 3.135-2.037 4.353-3.363 65.258-17.971 113.554-80.563 113.554-154.811 0-50.021-31.48-145.039-32.821-149.06-2.178-6.533-8.292-10.94-15.179-10.94h-208c-6.887 0-13.001 4.407-15.179 10.94-1.341 4.021-32.821 99.039-32.821 149.06 0 74.248 48.296 136.84 113.554 154.81 1.218 1.327 2.666 2.48 4.353 3.363 11.16 5.846 18.093 17.305 18.093 29.907v99.92c0 17.645-14.355 32-32 32h-32c-8.837 0-16 7.164-16 16s7.163 16 16 16h160c8.837 0 16-7.164 16-16s-7.163-16-16-16h-32c-17.645 0-32-14.355-32-32v-99.92c0-12.602 6.933-24.061 18.093-29.906zm-154.093-158.174c0-35.67 19.535-101.925 27.681-128h184.641c8.146 26.068 27.678 92.296 27.678 128 0 70.58-53.832 128-120 128s-120-57.42-120-128z"/>
                    </svg>
                </button>
              </div>
            </div>
            <!-- <b-form-select name="prioridades" v-model="selected" :options="options" @input="searchSubGroup('props')"></b-form-select> -->
            <!-- <b-form-select name="caracteristicas" v-model="selectedTienda" :options="optionsTiendas" @change="searchSubGroup('car')"></b-form-select> -->
            <b-form-select name="caracteristicas" v-model="selectedTienda" :options="opcStores" @change="searchSubGroup('car')"></b-form-select>
        </div>
         <div class="productos">
                <!--div class="col producto" v-for="(producto,idx) in productFiltrado" v-bind:key="idx"--> <!--Arreglos -->
                <div class="col producto" v-for="producto in productFiltrado" v-bind:key="producto['.key']">
                    <div class=" ">
                      <b-card no-body>
                        <!-- Version Con OJBETOS -->
                        <b-button-group class="mr-1">

                           <b-button block v-b-toggle ="'collapse-'+ producto['.key']"
                          v-bind:class="{productoInicial :(!producto.seleccionado),
                          productoInicialSelec:producto.seleccionado}" >
                            <strong> {{ producto.name}} </strong> <strong class="price">${{producto.precios.last}}</strong>  <label class="presentacion">{{producto.presentacion}}</label> {{producto.tiendas.last}}
                          </b-button>
                          <b-button  @click="addDeseo(producto['.key'], $event)"
                                    class="productoDeseo"
                                    >
                                    <b-icon v-if="producto.deseado" icon="heart-fill"
                                    class="deseobutton"></b-icon>
                                    <b-icon v-else icon="heart"
                                    class="deseobutton1"></b-icon>
                          </b-button>
                          <b-button  @click="seleccioinarProducto(producto['.key'], $event)"
                                    class="productoSeleccionado"
                                    >
                                    <b-icon v-if="producto.seleccionado" icon="cart-fill"
                                    class="seleccionadobutton"></b-icon>
                                    <b-icon v-else icon="cart-plus"
                                    class="seleccionadobutton1"></b-icon>
                          </b-button>
                        </b-button-group>

                        <!-- Version Con ARREGLOS -->
                        <!--b-button-group class="mr-1">
                          <!- -  NO div   class="d-flex justify-content-between"   producto['.key'] -- >
                          <b-button block v-b-toggle ="'collapse-'+ idx"
                          v-bind:class="{productoInicial :(!producto.seleccionado),
                          productoInicialSelec:producto.seleccionado}" >
                            <strong>{{ producto.name}} </strong> <strong class="price">${{producto.precios.last}}</strong>  <label class="presentacion">{{producto.presentacion}}</label> {{producto.tiendas.last}}
                          </b-button>
                          <b-button  @click="addDeseo(idx, $event)"
                                    class="productoDeseo"
                                    >
                                    <b-icon v-if="producto.deseado" icon="heart-fill"
                                    class="deseobutton"></b-icon>
                                    <b-icon v-else icon="heart"
                                    class="deseobutton1"></b-icon>

                          </b-button>
                          <b-button  @click="seleccioinarProducto(idx, $event)"
                                    class="productoSeleccionado"
                                    >
                                    <b-icon v-if="producto.seleccionado" icon="cart-fill"
                                    class="seleccionadobutton"></b-icon>
                                    <b-icon v-else icon="cart-plus"
                                    class="seleccionadobutton1"></b-icon>
                          </b-button>
                          </b-button-group-->
                      </b-card>
                    </div>
                    <!-- id="'collapse-'+idx" -->
                    <b-collapse :id="'collapse-'+producto['.key']" class="mt-2">
                       <b-card>
                        <b-row class="flex-container">
                          <label class="textoClaro">Marca:</label><label> {{producto.marca}}: </label><label> {{producto.des}} </label>
                          <label v-if="producto.oferta">, ${{producto.precios.promo}} {{producto.oferta | conpromo}}</label>
                        </b-row>
                        <b-row class="flex-container">
                          <label class="flex-item" for="checkbox" >Promoción <input id="checkbox" type="checkbox" v-model="producto.newPricehasPromo"  :disabled="!producto.seleccionado" >  </label>
                  <button class="btn btn-primary mr-3 w-full"
                              @click="showCargarProducto(producto['.key'])">Editar </button>

                          <label class="flex-item">Nuevo <input v-miwidth="'100%'" type="text" v-model="producto.newPrecio"  :disabled="!producto.seleccionado" placeholder="$ nuevo precio"></label>
                          <!-- <label class="flex-item">Tienda<input v-miwidth="'100%'" type="text" v-model="producto.newTienda"  :disabled="!producto.seleccionado" placeholder="nueva tienda"></label> -->
                          <select v-model="producto.newTienda" class="flex-item input__field" :disabled="!producto.seleccionado">
                            <option v-for="option in opcStores" v-bind:value="option.value" :key="option.value">
                              {{ option.text }}
                            </option>
                          </select>
                        </b-row>
                      </b-card>
                    </b-collapse>
                </div>
        </div>

        <div class="botones">
            <!--b-button :disabled="contador==0 && contadorDeseados==0" variant="success" @click="guardar">Guardar</-b-button -->
            <b-button variant="success" @click="guardar">Guardar</b-button>
            <b-button style="margin-left:10px;" :disabled="contadorDeseados==0" variant="info" @click="cancelar">Cancelar</b-button>
            <!-- <b-button style="margin-left:10px;" @click="limpiar" variant="info">Limpiar</b-button> -->

            <!--transition-- name="custom-classes-transition"
                enter-active-class="animated tada"
                leave-active-class="animated bounceOutRight">
                 <p v-if="contador>0">Animacion</p>
            </-transition-->

        </div>

        <div style="margin-top:20px;">
            <strong>Productos comprados{{contador}}</strong>
            <br/>
            <strong>Productos deseados {{contadorDeseados}}</strong>
        </div>
      </div>
</template>

<script >

import firebase from 'firebase'
import { mapGetters } from 'vuex'
const path = 'depa'
const pathId = 'abarrotes'
// const pathSeleccionados = 'seleccionados'
// const db = firebase.firestore()
export default {
  name: 'Product',
  computed: {
    ...mapGetters(/* [ // esta es una forma de pasar los
      'productos'
    ], */
      {
        user: 'authUser',
        productos: 'products',
        stores: 'catStores'
        // productos: state => state.products
      }),
    /* chartData: function chart () { solo fue ejemplo
      const data = {
        productos: this.productos
      }
      return data
    } */
    /** getProdutos () {
      return this.$store.state.products
    }, */
    productFiltrado () {
      if (this.lastselect === 'props') {
        if (this.selected === 'a') {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.deseado === true))
          return productitos
          // return _.orderBy(productitos, 'categoria') // Use lodash’s
          // return Object.entries(this.productitos).sort(([_, b]) => b.categoria)
        } else if (this.selected === 'b') {
          // this.limpiarFiltro(2)
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.seleccionado === true))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'car') {
        if (this.selectedTienda !== '') {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.tiendas.last === this.selectedTienda))
          // this.limpiarFiltro(1)
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'searching') {
        if (this.search !== '') {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.name.toUpperCase().includes(this.search.toUpperCase())))
          // return this.productos.filter(product => product.name.toUpperCase().includes(this.search.toUpperCase()))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Mercado') {
        if (this.isButtonMercado) {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => {
            return (a.categoria === 'Mercado' || a.categoria === 'verduras' || a.categoria === 'mercado' || a.tiendas.last === 'Puesto' || a.tiendas.last === 'Mercado')
          }
          ))
          // const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.name.toUpperCase().includes(this.search.toUpperCase())))
          // return this.productos.filter(product => product.name.toUpperCase().includes(this.search.toUpperCase()))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Abarrotes') {
        if (this.isButtonAbarrotes) {
          console.log('buscando: Por Abarrotes')
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => {
            return (a.categoria === 'abarrotes' || a.categoria === 'Abarrotes' || a.categoria === 'abarrote')
          }
          ))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Super') {
        if (this.isButtonSuper) {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => {
            return (a.categoria === 'abarrotes' || a.categoria === 'Abarrotes' || a.categoria === 'abarrote')
          }
          ))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Higiene') {
        if (this.isButtonHigiene) {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => {
            return (a.categoria === 'personal' || a.categoria === 'Personal')
          }
          ))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Love') {
        if (this.isButtonLove) {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.deseado === true))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Selec') {
        if (this.isButtonSelec) {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => a.seleccionado === true))
          return productitos
        } else {
          return this.productos
        }
      } else if (this.lastselect === 'Vino') {
        if (this.isButtonVino) {
          const productitos = Object.fromEntries(Object.entries(this.productos).filter(([_, a]) => {
            return (a.categoria === 'Vinos y Licores' || a.categoria === 'vinos')
          }
          ))
          return productitos
        } else {
          return this.productos
        }
      } else {
        return this.productos
        // return Object.entries(this.productos).sort(([_, a]) => a.name)
        // return Object.entries(this.productos).sort(
        //   function (a, b) {
        //     const nameA = a.categoria.toUpperCase() // ignore upper and lowercase
        //     const nameB = b.categoria.toUpperCase() // ignore upper and lowercase
        //     if (nameA < nameB) {
        //       return -1
        //     }
        //     if (nameA > nameB) {
        //       return 1
        //     }
        //     // names must be equal
        //     return 0
        //   }
        // )
      }
    },
    opcStores () {
      const stores = []
      stores.push({ value: '', text: 'Escoje para filtrar por Tienda' })
      Object.keys(this.stores).forEach(elementid => {
        const element = this.stores[elementid]
        const item = {
          // value: elementid,
          value: element.name,
          text: element.name
        }
        stores.push(item)
      })
      return stores
    }
  },
  beforeCreate () {
    this.$store.commit('loading/SET_LOADING', true, { root: true })
    // Version usando Store
  },
  data () {
    return {
      id: '',
      contador: 0,
      contadorDeseados: 0,
      // productos: [],
      productosSelyDes: [],
      selected: null,
      options: [
        { value: null, text: 'Escoje para filtrar productos' },
        { value: 'a', text: 'Deseos' },
        { value: 'b', text: 'Seleccionados' }
      ],
      selectedTienda: null,
      lastselect: '',
      isButtonMercado: false,
      isButtonAbarrotes: false,
      isButtonSuper: false,
      isButtonHigiene: false,
      isButtonLove: false,
      isButtonSelec: false,
      isButtonVino: false,
      search: ''
    }
  },
  mounted () {
    this.getInitial(this.$store.state.authId)
  },
  updated () {
    // console.log('updated :: this.$store.state.authId:')
  },
  methods: { /** Agrega el poducto al carrito */
    seleccioinarProducto: function (id, event) {
      // event.target.id y id)
      // console.log('elemento seleccionado id[' + id + '] ')
      const producto = this.productos[id] // id es key
      producto.seleccionado = !producto.seleccionado
      if (this.productosSelyDes[id]) {
        this.productosSelyDes[id].seleccionado = producto.seleccionado
      } else {
        this.productosSelyDes[id] = {
          seleccionado: producto.seleccionado
        }
      }
      // console.log('Elemetos en  deseados y Seleccionados[' + this.productosSelyDes.length + ']', this.productosSelyDes)
      this.contador = this.getProductosSeleccionados244().length
      // falta agregar suma de precios de cantidad y articulos
    }, /** Agrega el producto a la lista de DESEOS */
    addDeseo: function (id, event) {
      const producto = this.productos[id] // id es key
      producto.deseado = !producto.deseado
      if (this.productosSelyDes[id]) {
        this.productosSelyDes[id].deseado = producto.deseado
      } else {
        this.productosSelyDes[id] = {
          deseado: producto.deseado
        }
      }
      this.contadorDeseados = this.getProductosDeseadosSeleccionados().length
      if (producto.deseado) {
        this.$notify({
          group: 'foo',
          type: 'success',
          title: 'Me Gusta',
          text: ' Adoro el producto ' + producto.name
        })
      }
    },
    prepareDate: function () {
      const ttt = new Date()
      const yyyy = ttt.getFullYear()
      const mm = ((ttt.getMonth() < 10) ? ('0' + ttt.getMonth()) : ttt.getMonth())
      const dd = ttt.getDay() < 10 ? ('0' + ttt.getDay()) : ttt.getDay()
      const date = yyyy + '' + mm + '' + dd
      console.log('date: ' + date + '')
      return date
    }, /** Prepara las fechas que se van a guardar para la tienda */
    preparePriceToSave: function (id) {
      // const producto = this.productos.find((a) => a.id === id)
      const producto = this.productos[id]
      const ttt = new Date()
      const yyyy = ttt.getFullYear()
      const mm = ((ttt.getMonth() < 10) ? ('0' + ttt.getMonth()) : ttt.getMonth())
      const dd = ttt.getDay() < 10 ? ('0' + ttt.getDay()) : ttt.getDay()
      const date = yyyy + '' + mm + '' + dd
      producto.precios[date] = producto.newPrecio
      producto.precios.last = producto.newPrecio
    }, /** Prepara las fechas que se van a guardar para la tienda */
    prepareMarcaToSave: function (id) {
      // const producto = this.productos.find((a) => a.id === id)
      const producto = this.productos[id]
      const ttt = new Date()
      const yyyy = ttt.getFullYear()
      const mm = ((ttt.getMonth() < 10) ? ('0' + ttt.getMonth()) : ttt.getMonth())
      const dd = ttt.getDate() < 10 ? ('0' + ttt.getDate()) : ttt.getDate()
      const date = yyyy + '' + mm + '' + dd
      producto.precios[date] = producto.newPrecio
      producto.precios.last = producto.newPrecio
      /* producto.precios.push({
        price: producto.newPrecio,
        date: date
      }) */
    }, /** Prepara las fechas que se van a guardar para ...versio realtime */
    prepareToUpdateProductRealTime: function () {
      // console.log('prepareToUpdateProductRealTime---------------')
      const ttt = new Date()
      const yyyy = ttt.getFullYear()
      const mm = ((ttt.getMonth() < 10) ? ('0' + (ttt.getMonth() + 1)) : ttt.getMonth())
      const dd = ttt.getDate() < 10 ? ('0' + ttt.getDate()) : ttt.getDate()
      const date = yyyy + '' + mm + '' + dd
      // Se agregan los Nuevos Precios a last  productos
      // this.getProductosSeleccionados().forEach(function (producto) {
      Object.values(this.getProductosSeleccionados()).forEach(function (producto) {
        producto.precios[date] = producto.newPrecio !== '' ? producto.newPrecio : producto.precios.last
        // producto.newPrecio = ''
        producto.tiendas[date] = producto.newTienda !== '' ? producto.newTienda : producto.tiendas.last
        producto.tiendas.last = producto.newTienda !== '' ? producto.newTienda : producto.tiendas.last
        if (producto.newPricehasPromo) {
          // console.log('Guardar--------CON PROMO-------')
          producto.precios.promo = producto.newPrecio !== '' ? producto.newPrecio : producto.precios.promo
          producto.oferta = true
          producto.newPricehasPromo = false
        } else {
          // console.log('Guardar--------SIN PROMO-------')
          producto.precios.last = producto.newPrecio !== '' ? producto.newPrecio : producto.precios.last
        }
        producto.deseado = false
        producto.seleccionado = false
        producto.newPrecio = ''
        producto.newTienda = ''
        // producto.
      })
    },
    prepareToUpdateProductOs: function () { // V1 solo falta el key
      console.log('prepareToUpdateProductOs---------------')
      const ttt = new Date()
      const yyyy = ttt.getFullYear()
      const mm = ((ttt.getMonth() < 10) ? ('0' + (ttt.getMonth() + 1)) : ttt.getMonth())
      const dd = ttt.getDate() < 10 ? ('0' + ttt.getDate()) : ttt.getDate()
      const date = yyyy + '' + mm + '' + dd

      const productopric2 = new Map()
      productopric2[date] = '22'
      // const productopric2 = arrayOfBudget.map((productopric2) => { return Object.assign({}, productopric2) })
      const productopric = Object.assign({}, productopric2)
      var productsSelect = []

      Object.keys(this.productos).forEach(function (productoId) {
      //
        // console.log('Guardar Recorriendo elemento: in for [' + productoId + ']')
        const productoEle = this.productos[productoId]
        // console.log('Guardar Recorriendo elemento: in for sel[' + productoEle.seleccionado + ']')
        if (productoEle.seleccionado === true) {
          // console.log('Guardar Recorriendo elemento: id:', productoId)
          const productoadd = {
            precios: productopric
          }
          productoadd['.key'] = productoId

          // console.log('        ---- -Elemento add------', productoadd)
          productsSelect.push(productoadd)
        }
        // producto.
      })
      return productsSelect
    },
    // Clona el objeto donde guardamos los precios, para despues agregar so hay nuevos
    deepClone: function (objeto) {
      var clone = {}
      for (var key in objeto) {
        var value = objeto[key]
        if (typeof (value) !== 'object') {
          clone[key] = value
        } else {
          clone[key] = this.deepClone(value)
        }
      }
      return clone
    },
    prepareToUpdateProductOs2: function () { // V2 solo falta el key
      // const selec2 = { ...this.productosSelyDes }

      // https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
      // const selec2 = Object.assign({}, this.productosSelyDes)
      // const selec2 = JSON.parse(JSON.stringify(this.productosSelyDes))
      const selec2 = this.deepClone(this.productosSelyDes)
      console.log('prepareToUpdateProductOs2 : selec2: array a recorrer:', selec2)
      Object.entries(selec2).forEach((prod) => {
        if (prod[1].seleccionado === true) {
          const producto = this.productos[prod[0]]

          prod[1].precios = {
            last: (producto.newPrecio === undefined || producto.newPrecio === '') ? producto.precios.last : producto.newPrecio
          }

          prod[1].tiendas = {
            last: (producto.newTienda === undefined || producto.newTienda === '') ? producto.tiendas.last : producto.newTienda
          }

          // console.log('newpreciosPromo[' + producto.newPricehasPromo + ']')
          if (producto.newPricehasPromo) {
            // console.log('Guardar--------CON PROMO------[' + producto.newPrecio + ']-')
            prod[1].precios.promo = producto.newPrecio !== '' ? producto.newPrecio : producto.precios.promo // este afuera del if
            prod[1].oferta = true
            prod[1].newPricehasPromo = false
          } else {
            if (producto.precios.promo) {
              prod[1].precios.promo = producto.precios.promo
            }
          }
          if (producto.preciosHis !== undefined) {
            prod[1].preciosHis = producto.preciosHis
          } else {
            prod[1].preciosHis = []
          }
          const last = (producto.newPrecio === undefined || producto.newPrecio === '') ? producto.precios.last : producto.newPrecio
          prod[1].preciosHis.push(this.prepareDate() + '-' + last)

          if (producto.tiendasHis !== undefined) {
            prod[1].tiendasHis = producto.tiendasHis
          } else {
            prod[1].tiendasHis = []
          }
          const lastH = (producto.newTienda === undefined || producto.newTienda === '') ? producto.tiendas.last : producto.newTienda
          prod[1].tiendasHis.push(this.prepareDate() + '-' + lastH)

          if (prod[1].deseado !== undefined) {
            delete prod[1].deseado
          }
          if (prod[1].seleccionado !== undefined) {
            delete prod[1].seleccionado
          }
        }
      })
      return selec2
    }, /* regresamos los valores  */
    prepareToUpdateProductosSelyDes: function () {
      // console.log('prepareToUpdateProductosSelyDes---------------')
      Object.entries(this.productosSelyDes).forEach((prod) => {
        // console.log('Seleccionados : prod', prod)
        if (prod[1].seleccionado === true) {
          prod[1].seleccionado = false
          prod[1].deseado = false
        }
      })
    }, /** Guarda los estados de los porductos del usuario */
    guardar: function () {
      console.log('GUARDAR  los datos para el usuario [-' + this.$store.state.authId + '-]')
      // console.log('----New prices Productos deseados y seleccionados------' + this.productosSelyDes)
      const prices = this.prepareToUpdateProductOs2()
      console.log('----New prices Productos------selYdes', this.productosSelyDes)
      console.log('----New prices Productos------pricess', prices)
      const contadorAux = this.getProductosSeleccionados244().length
      const contadorDeseadosAux = this.getProductosDeseadosSeleccionados().length
      console.log('---- Productos sleccionados[' + contadorAux + '] deseados [' + contadorDeseadosAux + ']------' + prices)

      this.contador = 0
      //        firebase.database().ref(pathSeleccionados).child(this.$store.state.authId).set(this.productosSelyDes)
      this.$store.dispatch('SAVE_PRICE_PRODUCTSBYUSER_FS', prices)
        .then(() => {
          this.updateView()
          this.prepareToUpdateProductosSelyDes()
          this.$store.dispatch('SAVE_PRODUCTSBYUSER_FS', this.productosSelyDes)
            .then(() => {
              console.log('Se actualizo el nuevo precio del producto, Actualizamos la vista')
              this.$notify({
                group: 'foo',
                type: 'success',
                title: 'Guardar',
                text: 'Actualizcion de los datos correctamente'
              })
            })
        })
        .catch(() => {})
    },
    actualizarElementosRT: function () {
      // firebase.database().ref('/salas/1').set(this.productos);
      // firebase.database().ref(path).child(pathId).set(this.productos,function(error){
      /**  if(error){
                    console.log("No logro hacer la inserccion");
                }else{
                    console.log("logro hacer la inserccion");
                }
                */
      // this.validarRespuesta(error)  ya que de esta manera hay error,
      // se hace con arro function
      // }).then(response => console.log("Actualizacion finalizada["+response+"]") )
      firebase.database().ref(path).child(pathId).set(this.productos)
      // .set(this.productos, error=> this.validarRespuesta(error))
    },
    updateView: function () {
      // console.log('updateView: actualizar la vista')
      // Object.entries(this.productosSelyDes).forEach((prod) => {
      Object.entries(this.productos).forEach((prod) => {
        const idProduct = prod[0]
        const producto = this.productos[idProduct] // id es key
        if (prod[1].seleccionado === true) {
          console.log(' se Actualiza :oferta[' + producto.newPricehasPromo + '] newTienda[' + producto.newTienda + ']  newPrecio[' + producto.newPrecio + '] ')
          producto.seleccionado = false
          this.$store.dispatch('UPDATE_DATA_PROD', {
            id: idProduct,
            valueprice: (producto.newPrecio === undefined || producto.newPrecio === '') ? producto.precios.last : producto.newPrecio,
            valuestore: (producto.newTienda === undefined || producto.newTienda === '') ? producto.tiendas.last : producto.newTienda,
            valueselect: false,
            valueoferta: producto.newPricehasPromo
          })
        }
      })
    },
    validarRespuesta: function (error, committed, shapshot) {
      if (error) {
        this.$notify({
          group: 'foo',
          type: 'error',
          title: 'Error',
          text: 'No es posible completar la operacion'
        })
      }
      if (committed) {
        this.$notify({
          group: 'foo',
          type: 'success',
          title: 'Exito',
          text: 'La operacion se realizo correntamente'
        })
      }
      // console.log(shapshot)
    }, /** Carga la informacion inicial con FireBase */
    getInitial: function (id) {
      // this.getInitialRT(id)
      this.getInitialFT(id)
    },
    getInitialRT: function (id) {
      console.log('getInitial[' + id + ']')
      // this.$store.commit('loading/SET_LOADING', true, { root: true })
      /* firebase.database().ref(path).child(pathId).on('value', (snapshot) => {
        this.cargarElementos(snapshot.val())
        // this.$store.commit('loading/SET_LOADING', false, { root: true })
        // this.isLoading = false
      }) */
      if (!id) {
        console.log('Aun no logeado')
      }
      const instance = firebase.database().ref('depa/abarrotes')
      const instanceSeleccionados = firebase.database().ref('seleccionados') // .child(idd)
      /* if (firebase.auth().currentUser.uid) { */
      // if (state.authId) {
      if (id) {
        console.log('Se traen los seleccionados por usuario')
        instanceSeleccionados.child(id)
      }
      instance.once('value', (snapshot) => {
        // console.log(snapshot.val())
        const productos = snapshot.val()
        Object.keys(productos).forEach((productoId) => {
          const producto = productos[productoId]
          // console.log('obtenemos los productosID:' + producto['.key'])
          if (id) {
            instanceSeleccionados.once('child_added', querySnapshot => {
              querySnapshot.forEach((snap) => {
                if (snap.key === productoId) {
                  // console.log('valor:' + snap.key + ' == ' + productoId)
                  if (snap.val().seleccionado) {
                    producto.seleccionado = true
                  } else {
                    producto.seleccionado = false
                  }
                  // console.log('snap.val().deseado: ' + snap.val().deseado + ' == ' + productoId)
                  if (snap.val().deseado) {
                    producto.deseado = true
                  } else {
                    producto.deseado = false
                  }
                }
              })
            })
          } else {
            producto.seleccionado = false
            producto.deseado = false
          }
          this.cargarElementos(productos)
        })
        instanceSeleccionados.once('child_added', querySnapshot => {
          const Seleccionados = querySnapshot.val()
          this.cargarSeleccionados(Seleccionados)
        })
        console.log('init: prductSELEC [' + Object.entries(this.productosSelyDes).length + ']')
        this.contadorDeseados = Object.entries(this.productosSelyDes).length
        this.contador = this.getProductosSeleccionados244().length
        // commit('loading/SET_LOADING', false, { root: true })
        // this.$store.commit('loading/SET_LOADING', false, { root: true })
      })

      // ejecuta el cambio cuando hay un cambio en la BD
      // .once('value', snapshot => this.cargarElementos( snapshot.val() ))    //commit('loading/SET_LOADING', true, { root: true })
    }, /** Carga la informacion inicial */
    getInitialFT: function (id) {
      // console.log('getInitial[' + id + ']')
      if (!id) {
        // console.log('Aun no logeado')
        this.$store.commit('loading/SET_LOADING', false, { root: true })
      }
      // const instance = firebase.database().ref('depa/abarrotes')
      // const instanceSeleccionados = firebase.database().ref('seleccionados') // .child(idd)
      /* if (firebase.auth().currentUser.uid) { */
      // if (state.authId) {
      if (id) {
        // console.log('Se traen los seleccionados por usuario')
        // instanceSeleccionados.child(id)
        this.$store.dispatch('FETCH_PRODUCTS_FT', this.formAddProduct)
        this.$store.dispatch('FETCH_CAT_PRODUCTOS_FT', this.formAddProduct)
        this.$store.dispatch('FETCH_CAT_TIENDAS_FT', this.formAddProduct)
        this.$store.commit('loading/SET_LOADING', false, { root: true })
        console.log('Se trajeros los seleccionados por usuario')
        // getProdutos
      }
    },
    /* Carga los productos de un cliente  */
    cargarElementos: function (data) {
      this.productos = data
    },
    cargarSeleccionados: function (data) {
      this.productosSelyDes = data
    }, /** Prepara las fechas que se van a guardar para el pecio */
    cancelar: function () {
      /* this.getProductosSeleccionados().forEach(function (producto) {
        producto.user_id = null

      })
      this.actualizarElementosRT() */
      this.contador = 0
      this.contadorDeseados = 0
    }, /** obtiene los productos agregados a comprar */
    getProductosSeleccionados: function (id) {
      // productosSelyDes
      return Object.values(this.productos).filter((a) => a.seleccionado)
    },
    getProductosSeleccionadosEntries: function (id) {
      // productosSelyDes
      return Object.entries(this.productos).filter((a) => a.seleccionado)
    },
    getProductosSeleccionados244: function () {
      // return this.productos.filter((a) => a.seleccionado)
      return Object.values(this.productos).filter((a) => a.seleccionado)
    },
    getProductosDeseadosSeleccionados: function () {
      return Object.values(this.productos).filter((a) => a.deseado)
    },
    getProductosSeleccionados2: function () {
      // return this.productos.filter((a) => a.seleccionado)
      var parsedobj = JSON.parse(JSON.stringify(this.productos))
      // return parsedobj.filter((a) => a.seleccionado)
      var productosel = []
      Object.keys(parsedobj).forEach((productoId) => {
      // return parsedobj.forEach((productoId) => {
        const producto = this.productos[productoId]

        // producto.adquirido = false
        // producto.user_id = null

        if (producto.seleccionado) {
          productosel.push(producto)
          // var productosel['.key'] = productoId
          // var productosel2
          // productosel2.seleccionado = producto.seleccionado
          // productosel2.faltante = producto.faltante
          //  pr oductosel2.push(productosel)
          // this.productosSelyDes.push(producto)
        }
        return productosel
        // return this.productosSelyDes
      })
    }, /** obtiene los productos agregados a deseos */

    getAllProductos: function () {
      return this.productos
    },
    limpiar: function () {
      Object.keys(this.productos).forEach((productoId) => {
        const producto = this.productos[productoId]
        producto.seleccionado = false
        producto.deseado = false
        // producto.user_id = null
      })
      this.contador = 0
      this.contadorDeseados = 0
    },
    limpiarFiltro: function (tipo) {
      // if (tipo === 1) this.selected = null
      // if (tipo === 2) this.selectedTienda = null
      // console.log('DESEO')
    },
    cargarfile: function () {
      console.log('cargar FILE ')
      this.$store.dispatch('LOAD_PRODUCTOS_FT')
    },
    borrarElements: function () {
      console.log('borrar productos ')
      this.$store.dispatch('DELETE_PRODUCTOS_FT')
    },
    buttonsMercado: function () {
      this.isButtonMercado = false
      this.isButtonAbarrotes = false
      this.isButtonSuper = false
      this.isButtonHigiene = false
      this.isButtonLove = false
      this.isButtonSelec = false
      this.isButtonVino = false
    },
    buttonsMercadotitle: function (title) {
      if (title !== 'Mercado') {
        this.isButtonMercado = false
      }
      if (title !== 'Abarrotes') {
        this.isButtonAbarrotes = false
      }
      if (title !== 'Super') {
        this.isButtonSuper = false
      }
      if (title !== 'Higiene') {
        this.isButtonHigiene = false
      }
      if (title !== 'Love') {
        this.isButtonLove = false
      }
      if (title !== 'Selec') {
        this.isButtonSelec = false
      }
      if (title !== 'Vino') {
        this.isButtonVino = false
      }
    },

    searchSubGroup: function (event) {
      this.lastselect = event
      // Mercado, Abarrotes, Super, Personal, Love, Selec, Vino
      if (this.lastselect === 'Mercado') {
        if (this.isButtonMercado) {
          this.buttonsMercado()
        } else {
          this.isButtonMercado = true
          this.buttonsMercadotitle('Mercado')
        }
      }
      if (this.lastselect === 'Abarrotes') {
        if (this.isButtonAbarrotes) {
          this.buttonsMercado()
        } else {
          this.isButtonAbarrotes = true
          this.buttonsMercadotitle('Abarrotes')
        }
      }
      if (this.lastselect === 'Super') {
        if (this.isButtonSuper) {
          this.buttonsMercado()
        } else {
          this.isButtonSuper = true
          this.buttonsMercadotitle('Super')
        }
      }
      if (this.lastselect === 'Higiene') {
        if (this.isButtonHigiene) {
          this.buttonsMercado()
        } else {
          this.isButtonHigiene = true
          this.buttonsMercadotitle('Higiene')
        }
      }
      if (this.lastselect === 'Love') {
        if (this.isButtonLove) {
          this.buttonsMercado()
        } else {
          this.isButtonLove = true
          this.buttonsMercadotitle('Love')
        }
      }
      if (this.lastselect === 'Selec') {
        if (this.isButtonSelec) {
          this.buttonsMercado()
        } else {
          this.isButtonSelec = true
          this.buttonsMercadotitle('Selec')
        }
      }
      if (this.lastselect === 'Vino') {
        if (this.isButtonVino) {
          this.buttonsMercado()
        } else {
          this.isButtonVino = true
          this.buttonsMercadotitle('Vino')
        }
      }
    },
    showCargarProducto: function (idProduct) {
      // const prodSelec = Object.values(Object.entries(this.productos).filter(([_, a]) => a['.key'] === idProduct))
      const prodSelec = this.productos[idProduct]
      this.$router.push({
        name: 'updaterProducto',
        params: { prod: prodSelec }
      })
    }
  },
  watch: {
    user: {
      handler (cart, oldCart) {
        this.getInitial(this.$store.state.authId)
      }, // sera todos sus elementos
      deep: true
    }
  },
  filters: {
    uppercase: function (value) {
      if (!value) return ''
      return value.toString().toUpperCase()
    },
    conpromo: function (value) {
      if (value) {
        return 'Con promocion'
      } else {
        return 'Sin promocion'
      }
    }
  },

  directives: {
    miwidth: {
      inserted: function (el, binding) {
        el.style.width = binding.value
      }
    }
  }
}
</script>

<style lang="css" scoped>
/*  */
.container {
  padding-right: 5px;
  padding-left: 5px;
  @media only screen and (min-width: 790px) {
    padding-right: 0px;
    padding-left: 0px;
  }
}
.titulo_lista {
  background-color: #126899;
}
.productos {
  margin-top: 20px;
}
/* si se usa */
.producto {
  color: rgb(20, 19, 19);
  margin: 3px;
  font-weight: bold;
  margin-left: 0px;
  margin-right: 0px;
  padding-left: 0px;
  padding-right: 0px;
  @media only screen and (min-width: 790px) {
    margin-left: 20px;
    margin-right: 20px;
    padding-left: 20px;
    padding-right: 20px;
  }
}
.pointer {
  cursor: pointer;
}
.productoInicial {
  background-color: #3c90c0;
}
.productoInicialSelec {
  border-color: #0fd451;
  background-color: #99e1b1;
}
.productoInicial:hover {
  border-color: #8dc4e4;
  background-color: #89a4d8;
}
.productoInicial:focus, .productoInicial:active, .productoInicial:visited, btn-default:active:focus {
  border-color: #8dc4e4;
  background-color: #89a4d8;
}

/*  DESEOS */
.productoDeseo {
  border-color: white;
  background-color: white;
}
.productoDeseo:hover, .productoDeseo:focus, productoDeseo:active, .productoDeseo:visited {
  border-color: white;
  background-color: white;

/*  box-shadow: none; */
}
.deseobutton {
  color: #b22b73;
  background-color:white;
  border-color: none;
}
.deseobutton1 {
  color: red;
  background-color: white;
}
.deseobutton:hover, .deseobutton:focus, .deseobutton:active ,.deseobutton:visited {
  background-color:white;
  border-color: white;
}
.deseobutton1:hover, .deseobutton1:focus, .deseobutton1:active ,.deseobutton1:visited {
  background-color:white;
  border-color: white;
}
.deseobutton:disabled, .deseobutton::selection {
  /*border-color: #1eb14f;*/
  background-color: #eea15a;
}

      /* SELECCIONADOS */
.productoSeleccionado {
  border-color: white;
  background-color: white;
}
.productoSeleccionado:hover, .productoSeleccionado:focus, .productoSeleccionado:active, .productoSeleccionado:visited  {
  border-color: #c8dc92;
  background-color: white;
  outline: none;
  box-shadow: none;
}
.seleccionadobutton {
  color: #afee5d;
  background-color:white;
  border-color: none;
}
.seleccionadobutton1 {
  color: #afee5d;
    background-color:white;
  border-color: none;
}
.seleccionadobutton:hover, .seleccionadobutton:focus, .seleccionadobutton:active, .seleccionadobutton:visited {
  /*border-color: #1eb14f;*/
  background-color: #aaee52;
}
.seleccionadobutton:disabled, .seleccionadobutton::selection {
  background-color: #d3f0ad;
}

.fadet-enter-active,
.fadet-leave-active {
  transition: opacity 2s;
}
.fadet-enter,
.fadet-leave-to {
  opacity: 0;
}
.flex-container{
  margin: auto;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: flex-start;
}
.flex-item{
  display: flex;
  justify-content: center;
  align-items: center;
  /* border: 1px solid #000; */
  /* padding: 7px; */
  padding-left: 7px;
  padding-right: 7px;

  border: 0.5px double rgb(215, 211, 211);
}
.flex-item:nth-child(odd){
  font-size: 12pt;
  /* border-block-color: 1px solid #000; */
  @media only screen and (min-width: 790px) {
      font-size: 14pt;
  }
}

/** Botones personalizados */
.boton_personalizado{
    text-decoration: none;
    /*padding: 10px;*/
    /*font-weight: 600;*/
    font-size: 12px;
    /*color: #ffffff;*/
    width: 60px;
    height: 60px;
    /*background-color: #1883ba;*/
    background-color: gray;
    border-radius: 6px;
    border: 1px solid  gray;
    @media only screen and (min-width: 790px) {
      font-size: 14pt;
  }
}
.price {
  color:#073e5e;
}
.presentacion{
  color:#135a83;
  font-style: italic;
}

/*    ICONOS DE FILTROS */
.iconFiltro{
  fill: rgb(245, 127, 59);
}
.iconFiltroSel{
  fill:white;
}
.iconFiltroSel.iconFiltroSel-strong{
  stroke: white;
}

      /* ************************* */
/*  BOTONES DE F I L T R O S */
.containersFiltros{
  display: grid;
  place-items: center;
}
.containerFiltros{
  background: #126899;
   @media only screen and (min-width: 790px) {
    background: #b22b73;
   }
  /* width: fit-content; */
}

.botonFiltroSel {
  border-color: white;
  background-color: white;
  outline:none; /* quitar ese resplandor cuando el elemento recibe el "focus"   */
  border-radius: 10%;
  padding: 0.375rem 0.75rem;

}

.botonFiltroSel:hover {
  background: #b22b73;
  opacity: 1;
}
.botonFiltroSel:focus {
  background: #b22b73;
  opacity: 1;
  /* outline:none; */
}
.botonFiltroSel:active {
  background: #b22b73;
  opacity: 1;
  /* outline:none; */
}
.botonFiltroNonSel {
  /* appearance: none; */
  border-radius: 10%;
  padding: 0.375rem 0.75rem;
  border-color: rgb(255, 255, 255);
  background-color: rgb(255, 255, 255);
  outline:none; /* quitar ese resplandor cuando el elemento recibe el "focus"   */
}
.botonFiltroNonSel:focus {
  appearance: none;
  outline:none;
  opacity: 1;
  background-color: rgb(255, 255, 255);
}
.botonFiltroNonSel:hover {
  opacity: 0.9;
  @media only screen and (min-width: 790px) {
    opacity: none;
  }
}

.textoClaro{
  font-weight:300;
  color: gray;
}
</style>
